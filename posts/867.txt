I agree with everything you said.
Especially the color of hats and if statements. It seems to me that the hat would be the darkest because it has the ‘authority’, if you will, of the blocks under it. It would flow nicer IMO.